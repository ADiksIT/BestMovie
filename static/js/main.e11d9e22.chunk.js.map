{"version":3,"sources":["utils/api.js","components/MovieItem.jsx","components/MovieTabs.jsx","components/PageSwitching.jsx","components/App.jsx","index.js"],"names":["API_KEY","API_URL","API_URL_IMAGE","MovieItem","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","getMovieImage","movie","poster_path","state","willWatch","_this2","_this$props","props","removeMovie","addMovieToWillWatch","removeMovieFromWillWatch","react_default","a","createElement","className","src","alt","title","vote_average","type","onClick","setState","bind","React","Component","MovieTabs","nextProps","prevProps","sort_by","updateSortBy","resettingThePageCounter","handelClick","value","getClassLink","concat","PageSwitching","totalPages","nextPage","prevPage","page","App","getMoviesForAPI","fetch","then","response","json","data","total_pages","movies","results","updateMovies","filter","item","id","updateMovie","toConsumableArray","moviesWillWatch","setTimeout","prevState","console","log","components_MovieTabs","components_PageSwitching","map","components_MovieItem","length","key","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.e11d9e22.chunk.js","sourcesContent":["export const API_KEY = '0b8be952d386c4f1fbbd65b0fc2b8d47';\r\nexport const API_URL = 'https://api.themoviedb.org/3';\r\nexport const API_AUTH = 'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwYjhiZTk1MmQzODZjNGYxZmJiZDY1YjBmYzJiOGQ0NyIsInN1YiI6IjVlODJmODM5MDRiNTk2MDAxNzkyYzA2OSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.0RyU2fsKVUsuxChOfBwP_thLhqfWItjB32KygxEQQP4';\r\nexport const API_URL_IMAGE = 'https://image.tmdb.org/t/p/w500';","import React from \"react\";\r\nimport { API_URL_IMAGE } from \"../utils/api\";\r\n//import nullPoster from \"../../public/img/undefined.jpg\";\r\nclass MovieItem extends React.Component {\r\n    constructor() {\r\n        super()\r\n    \r\n        this.state = {\r\n          willWatch : false\r\n        };\r\n    }\r\n\r\n    getMovieImage = (movie) => {\r\n        const moviePoster =  movie.poster_path ? API_URL_IMAGE + movie.poster_path : \"https://s3-eu-west-1.amazonaws.com/trailers.app/trailers/logos/000/000/197/index/no-poster.jpg?1484574633\";\r\n        return moviePoster; \r\n    };\r\n\r\n    \r\n\r\n    render() {\r\n        const { \r\n            movie, \r\n            removeMovie, \r\n            addMovieToWillWatch, \r\n            removeMovieFromWillWatch\r\n        } = this.props;\r\n        \r\n        return (\r\n        <div className=\"card\">\r\n            <img\r\n                className=\"card-img-top\"\r\n                src={this.getMovieImage(movie)}\r\n                alt=\"\"\r\n            />\r\n            <div className=\"card-body\">\r\n                <h6 className=\"card-title\">{movie.title}</h6>\r\n                <p className=\"mb-2\">Rating: {movie.vote_average}</p>\r\n                <div className=\"d-flex justify-content-between align-items-center\">\r\n                    {this.state.willWatch ? (\r\n                        <button type=\"button\" \r\n                        className=\"btn btn-secondary\" \r\n                        onClick={()=> {\r\n                            this.setState({\r\n                                willWatch : false\r\n                            });\r\n                            removeMovieFromWillWatch(movie);\r\n                        }}>\r\n                        Remove Will Watch\r\n                        </button> \r\n                    ) : (\r\n                        <button\r\n                                type=\"button\" \r\n                                className=\"btn btn-success\" \r\n                                onClick={() => {\r\n                                this.setState({\r\n                                    willWatch : true\r\n                                });\r\n                                addMovieToWillWatch(movie);\r\n                                }}>\r\n                            add Will Watch\r\n                        </button>\r\n                        \r\n                    )} \r\n                    <button type=\"button\"\r\n                        className=\"btn btn-danger ml-3\" \r\n                        onClick={removeMovie.bind(null, movie)}>\r\n                        Delete Movie\r\n                    </button>\r\n                </div>\r\n            \r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default MovieItem;","import React from \"react\";\r\n\r\nclass MovieTabs extends React.Component{\r\n\r\n    shouldComponentUpdate(nextProps, prevProps){\r\n        if (nextProps.sort_by !== this.props.sort_by) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const { sort_by, updateSortBy, resettingThePageCounter} = this.props;\r\n\r\n        const handelClick = (value) => {\r\n            resettingThePageCounter();\r\n            return () => {\r\n                updateSortBy(value);\r\n            };\r\n            \r\n        };\r\n\r\n        const getClassLink = (value) => {\r\n            return `nav-link ${\r\n                sort_by === value ? \"active\" : \"\"\r\n            }`\r\n        };\r\n        return (\r\n            <div className=\"wrap\">\r\n                <ul className=\"tabs nav nav-pills\">\r\n                    <li className=\"nav-item\">\r\n                        <div className={getClassLink('popularity.desc')}\r\n                        onClick={handelClick(\"popularity.desc\")}>\r\n                        Popularity\r\n                        </div>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                        <div className={getClassLink('revenue.desc')}\r\n                        onClick={handelClick(\"revenue.desc\")}>\r\n                        Revenue\r\n                        </div>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                        <div className={getClassLink('vote_average.desc')}\r\n                        onClick={handelClick(\"vote_average.desc\")}>\r\n                        Vote average\r\n                        </div>\r\n                    </li>\r\n                 </ul>\r\n            </div>\r\n            \r\n        ); \r\n    }\r\n};\r\n\r\n\r\nexport default MovieTabs;\r\n","import React from \"react\";\r\nclass PageSwitching extends React.Component {\r\n    render(){\r\n        const {totalPages, nextPage, prevPage} = this.props;\r\n        let {page} = this.props;\r\n        return(\r\n            <div className=\"col-12 d-flex justify-content-between\">\r\n                <button className=\"btn mb-4 btn-light\" onClick={()=>{\r\n                    prevPage();\r\n                }}>Previos</button>\r\n                <p>Page: {page} of {totalPages}</p>\r\n                <button className=\"btn mb-4 btn-light\" onClick={()=>{\r\n                    nextPage();\r\n                }}>Next</button>\r\n            </div>\r\n        ); \r\n    };\r\n}\r\nexport default PageSwitching;","import React from \"react\";\n//import {moviesData} from \"../moviesData\";\nimport MovieItem from \"../components/MovieItem\";\nimport { API_URL, API_KEY} from \"../utils/api\";\nimport MovieTabs from \"../components/MovieTabs\";\nimport PageSwitching from \"../components/PageSwitching\";\nclass App extends React.Component {\n  constructor() {\n    super()\n\n    this.state = {\n      page : 1,\n      totalPages : '',\n      movies : [],\n      moviesWillWatch : [],\n      sort_by : \"revenue.desc\"\n    };\n  }\n\n  getMoviesForAPI = () => {\n    fetch(`${API_URL}/discover/movie?api_key=${API_KEY}&sort_by=${this.state.sort_by}&page=${this.state.page}`)\n    .then((response) => {\n      return response.json();   \n    })\n    .then((data) => {\n      this.setState({\n        //page : data.page,\n        totalPages : data.total_pages,\n        movies : data.results\n      });\n    });\n  };\n\n  componentDidMount() {\n    this.getMoviesForAPI();    \n  };\n\n  componentDidUpdate(prevProps, prevState){\n    if (prevState.sort_by !== this.state.sort_by) {\n      this.getMoviesForAPI();    \n    }\n  };\n\n  removeMovie = movie => {\n    const updateMovies = this.state.movies.filter(function(item) {\n      return item.id !== movie.id;\n    });\n    this.setState ({\n      movies : updateMovies\n    });\n  };\n\n\n  addMovieToWillWatch = movie => {\n    const updateMovie = [...this.state.moviesWillWatch, movie];\n    this.setState({\n      moviesWillWatch : updateMovie\n    });\n  };\n\n  removeMovieFromWillWatch = movie => {\n    const updateMovies = this.state.moviesWillWatch.filter(function(item) {\n      return item.id !== movie.id;\n    });\n    this.setState ({\n      moviesWillWatch : updateMovies\n    });\n  };\n\n  updateSortBy = value => {\n    this.setState({\n      sort_by : value\n    });\n  };\n\n  nextPage = () => {\n    this.setState({\n      page : this.state.page + 1\n    });\n    setTimeout(() => {\n        this.getMoviesForAPI();\n    }, 0);\n    \n  }\n  \n  prevPage = () => {\n    if (this.state.page !== 1) {\n      this.setState({\n        page : this.state.page - 1\n      });\n      setTimeout(() => {\n        this.getMoviesForAPI();\n      }, 0);\n      \n    }\n  }\n  \n  resettingThePageCounter = () =>{\n    this.setState({\n      page : this.setState.page = 1\n    });\n    setTimeout(() => {\n    this.getMoviesForAPI();\n    }, 0);\n  }\n\n\n  render() {\n    console.log(this);\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-8 mb-4 mt-4\">\n              <MovieTabs \n                sort_by={this.state.sort_by} \n                updateSortBy={this.updateSortBy}\n                resettingThePageCounter={this.resettingThePageCounter}\n              />\n          </div>\n          <div className=\"col-10\">\n            <div className=\"row\">\n              <PageSwitching \n                page={this.state.page}\n                totalPages={this.state.totalPages}\n                nextPage={this.nextPage}\n                prevPage={this.prevPage}\n              />\n              {this.state.movies.map((movie) => {\n                return (\n                <div className=\"col-sm-6 col-md-6 col-lg-4 mb-4\">\n                   <MovieItem \n                    movie={movie}\n                    removeMovie={this.removeMovie} \n                    addMovieToWillWatch={this.addMovieToWillWatch}\n                    removeMovieFromWillWatch={this.removeMovieFromWillWatch}\n                    />\n                </div>\n                );\n              })}\n            </div>\n            <PageSwitching \n                page={this.state.page}\n                totalPages={this.state.totalPages}\n                nextPage={this.nextPage}\n                prevPage={this.prevPage}\n              />\n          </div>\n         \n          <div className=\"col-2\">\n            <h4>Will Watch: {this.state.moviesWillWatch.length} movies</h4>\n            <ul className=\"list-group\">\n              {this.state.moviesWillWatch.map(movie => (\n                <li key={movie.id} className=\"list-group-item\">\n                  <div className=\"d-flex justify-content-between\">\n                    <p>{movie.title}</p>\n                    <p>{movie.vote_average}</p>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      </div>\n    );\n  }\n  \n}\n\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}